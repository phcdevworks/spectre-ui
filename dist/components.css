@layer components {

  :root {
    /* button roles */
    --sp-component-button-border-base: var(--sp-component-button-ghost-bg, transparent);
    --sp-component-button-shadow: var(--sp-shadow-sm);
    --sp-component-button-loading-opacity: calc(var(--sp-opacity-active, 0.84) - 0.14);
    --sp-component-button-primary-bg: var(--sp-button-primary-bg, #8652ff);
    --sp-component-button-primary-bg-hover: var(--sp-button-primary-bghover, #6c32e6);
    --sp-component-button-primary-bg-active: var(--sp-button-primary-bgactive, #5626b4);
    --sp-component-button-primary-bg-disabled: var(--sp-button-primary-bgdisabled, #cbd5f5);
    --sp-component-button-primary-text: var(--sp-button-primary-text, #ffffff);
    --sp-component-button-primary-text-disabled: var(--sp-button-primary-textdisabled, #94a3b8);
    --sp-component-button-secondary-bg: var(--sp-button-secondary-bg, #ffffff);
    --sp-component-button-secondary-bg-hover: var(--sp-button-secondary-bghover, #f1f5f9);
    --sp-component-button-secondary-bg-active: var(--sp-button-secondary-bgactive, #e2e8f0);
    --sp-component-button-secondary-bg-disabled: var(--sp-button-secondary-bgdisabled, #f8fafc);
    --sp-component-button-secondary-text: var(--sp-button-secondary-text, #8652ff);
    --sp-component-button-secondary-text-disabled: var(--sp-button-secondary-textdisabled, #94a3b8);
    --sp-component-button-secondary-border: var(--sp-button-secondary-border, #8652ff);
    --sp-component-button-secondary-border-disabled: var(--sp-button-secondary-borderdisabled, #cbd5f5);
    --sp-component-button-ghost-bg: var(--sp-button-ghost-bg, transparent);
    --sp-component-button-ghost-bg-hover: var(--sp-button-ghost-bghover, #f5f0ff);
    --sp-component-button-ghost-bg-active: var(--sp-button-ghost-bgactive, #ebe2ff);
    --sp-component-button-ghost-bg-disabled: var(--sp-button-ghost-bgdisabled, transparent);
    --sp-component-button-ghost-text: var(--sp-button-ghost-text, #8652ff);
    --sp-component-button-ghost-text-disabled: var(--sp-button-ghost-textdisabled, #94a3b8);
    --sp-component-button-danger-bg: var(--sp-button-danger-bg, #ef4444);
    --sp-component-button-danger-bg-hover: var(--sp-button-danger-bghover, #dc2626);
    --sp-component-button-danger-bg-active: var(--sp-button-danger-bgactive, #b91c1c);
    --sp-component-button-danger-bg-disabled: var(--sp-button-danger-bgdisabled, #fecaca);
    --sp-component-button-danger-text: var(--sp-button-danger-text, #ffffff);
    --sp-component-button-danger-text-disabled: var(--sp-button-danger-textdisabled, #94a3b8);
    --sp-component-button-success-bg: var(--sp-button-success-bg, #22c55e);
    --sp-component-button-success-bg-hover: var(--sp-button-success-bghover, #16a34a);
    --sp-component-button-success-bg-active: var(--sp-button-success-bgactive, #15803d);
    --sp-component-button-success-bg-disabled: var(--sp-button-success-bgdisabled, #bbf7d0);
    --sp-component-button-success-text: var(--sp-button-success-text, #ffffff);
    --sp-component-button-success-text-disabled: var(--sp-button-success-textdisabled, #94a3b8);

    /* card roles */
    --sp-component-card-bg: var(--sp-surface-card, #ffffff);
    --sp-component-card-text: var(--sp-text-on-surface-default, #0f172a);
    --sp-component-card-text-muted: var(--sp-text-on-surface-muted, #6b7280);
    --sp-component-card-border: var(--sp-color-neutral-200, #e2e8f0);
    --sp-component-card-border-base: var(--sp-component-card-ghost-border, var(--sp-component-card-bg, #ffffff));
    --sp-component-card-shadow: var(--sp-shadow-sm);
    --sp-component-card-shadow-elevated: var(--sp-shadow-lg);
    --sp-component-card-shadow-flat: var(--sp-shadow-none);
    --sp-component-card-shadow-outline: var(--sp-shadow-none);
    --sp-component-card-shadow-ghost: var(--sp-shadow-none);
    --sp-component-card-outline-bg: var(--sp-component-card-bg);
    --sp-component-card-outline-border: var(--sp-component-card-border);
    --sp-component-card-ghost-bg: var(--sp-component-button-ghost-bg, transparent);
    --sp-component-card-ghost-border: var(--sp-component-card-ghost-bg, transparent);

    /* input roles */
    --sp-component-input-border: var(--sp-form-default-border, #cbd5f5);
    --sp-component-input-bg: var(--sp-surface-input, #ffffff);
    --sp-component-input-text: var(--sp-text-on-surface-default, #0f172a);
    --sp-component-input-placeholder: var(--sp-text-on-surface-muted, #6b7280);
    --sp-component-input-border-focus: var(--sp-form-focus-border, #8652ff);
    --sp-component-input-ring: var(--sp-form-focus-ring, var(--sp-color-focus-primary, #8652ff));
    --sp-component-input-border-invalid: var(--sp-form-invalid-border, #ef4444);
    --sp-component-input-bg-invalid: var(--sp-form-invalid-bg, #fef2f2);
    --sp-component-input-text-invalid: var(--sp-form-invalid-text, #b91c1c);
    --sp-component-input-border-valid: var(--sp-form-valid-border, #22c55e);
    --sp-component-input-bg-valid: var(--sp-form-valid-bg, #f0fdf4);
    --sp-component-input-text-valid: var(--sp-form-valid-text, #15803d);
    --sp-component-input-bg-disabled: var(--sp-form-disabled-bg, #f8fafc);
    --sp-component-input-text-disabled: var(--sp-form-disabled-text, #94a3b8);
    --sp-component-input-border-disabled: var(--sp-form-disabled-border, #e2e8f0);
  }

  /* BUTTONS -------------------------------------------------------------- */
  .sp-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--sp-space-2xs, 0.25rem);
    padding: var(--sp-space-2xs, 0.25rem) var(--sp-space-md, 1rem);
    border-radius: var(--sp-radius-md, 4px);
    border: 1px solid var(
      --sp-component-button-border-base,
      var(--sp-component-button-ghost-bg, transparent)
    );
    font-family: var(--sp-font-family-sans, system-ui);
    font-size: var(--sp-font-md-size, 1rem);
    line-height: 1;
    font-weight: var(--sp-font-md-weight, 500);
    text-decoration: none;
    appearance: none;
    transition:
      background-color var(--sp-duration-fast, 150ms) var(--sp-easing-out, ease),
      color var(--sp-duration-fast, 150ms) var(--sp-easing-out, ease),
      box-shadow var(--sp-duration-fast, 150ms) var(--sp-easing-out, ease),
      border-color var(--sp-duration-fast, 150ms) var(--sp-easing-out, ease);
    cursor: pointer;
    min-height: var(--sp-min-touch-target, 44px);
  }

  .sp-btn:disabled,
  .sp-btn[aria-disabled="true"],
  .sp-btn.sp-btn--disabled {
    cursor: not-allowed;
    opacity: var(--sp-opacity-disabled, 0.5);
    pointer-events: none;
  }

  .sp-btn--loading {
    pointer-events: none;
    opacity: var(--sp-component-button-loading-opacity, 0.7);
  }

  .sp-btn--full {
    width: 100%;
  }

  .sp-btn--icon {
    padding-inline: var(--sp-space-sm, 0.75rem);
    padding-block: var(--sp-space-3xs, 0.125rem);
  }

  /* sizes */
  .sp-btn--sm {
    padding: var(--sp-space-3xs, 0.125rem) var(--sp-space-sm, 0.75rem);
    font-size: var(--sp-font-sm-size, 0.875rem);
    line-height: var(--sp-font-sm-line-height, 1.5rem);
  }

  .sp-btn--md {
    padding: var(--sp-space-2xs, 0.25rem) var(--sp-space-md, 1rem);
    font-size: var(--sp-font-md-size, 1rem);
    line-height: var(--sp-font-md-line-height, 1.75rem);
  }

  .sp-btn--lg {
    padding: var(--sp-space-xs, 0.5rem) var(--sp-space-lg, 1.5rem);
    font-size: var(--sp-font-lg-size, 1.125rem);
    line-height: var(--sp-font-lg-line-height, 1.75rem);
  }

  /* primary */
  .sp-btn--primary {
    background-color: var(--sp-component-button-primary-bg);
    color: var(--sp-component-button-primary-text);
    box-shadow: var(
      --sp-component-button-shadow,
      var(--sp-shadow-sm)
    );
  }

  .sp-btn--primary.sp-btn--hover,
  .sp-btn--primary:hover {
    background-color: var(--sp-component-button-primary-bg-hover);
  }

  .sp-btn--primary.sp-btn--active,
  .sp-btn--primary:active {
    background-color: var(--sp-component-button-primary-bg-active);
  }

  .sp-btn--primary.sp-btn--disabled,
  .sp-btn--primary:disabled {
    background-color: var(--sp-component-button-primary-bg-disabled);
    color: var(--sp-component-button-primary-text-disabled);
    box-shadow: none;
  }

  /* secondary */
  .sp-btn--secondary {
    background-color: var(--sp-component-button-secondary-bg);
    color: var(--sp-component-button-secondary-text);
    border-color: var(--sp-component-button-secondary-border);
  }

  .sp-btn--secondary.sp-btn--hover,
  .sp-btn--secondary:hover {
    background-color: var(--sp-component-button-secondary-bg-hover);
  }

  .sp-btn--secondary.sp-btn--active,
  .sp-btn--secondary:active {
    background-color: var(--sp-component-button-secondary-bg-active);
  }

  .sp-btn--secondary.sp-btn--disabled,
  .sp-btn--secondary:disabled {
    background-color: var(--sp-component-button-secondary-bg-disabled);
    color: var(--sp-component-button-secondary-text-disabled);
    border-color: var(--sp-component-button-secondary-border-disabled);
  }

  /* ghost */
  .sp-btn--ghost {
    background-color: var(--sp-component-button-ghost-bg);
    color: var(--sp-component-button-ghost-text);
  }

  .sp-btn--ghost.sp-btn--hover,
  .sp-btn--ghost:hover {
    background-color: var(--sp-component-button-ghost-bg-hover);
  }

  .sp-btn--ghost.sp-btn--active,
  .sp-btn--ghost:active {
    background-color: var(--sp-component-button-ghost-bg-active);
  }

  .sp-btn--ghost.sp-btn--disabled,
  .sp-btn--ghost:disabled {
    color: var(--sp-component-button-ghost-text-disabled);
    background-color: var(--sp-component-button-ghost-bg-disabled);
  }

  /* danger */
  .sp-btn--danger {
    background-color: var(--sp-component-button-danger-bg);
    color: var(--sp-component-button-danger-text);
  }

  .sp-btn--danger.sp-btn--hover,
  .sp-btn--danger:hover {
    background-color: var(--sp-component-button-danger-bg-hover);
  }

  .sp-btn--danger.sp-btn--active,
  .sp-btn--danger:active {
    background-color: var(--sp-component-button-danger-bg-active);
  }

  .sp-btn--danger.sp-btn--disabled,
  .sp-btn--danger:disabled {
    background-color: var(--sp-component-button-danger-bg-disabled);
    color: var(--sp-component-button-danger-text-disabled);
  }

  /* success */
  .sp-btn--success {
    background-color: var(--sp-component-button-success-bg);
    color: var(--sp-component-button-success-text);
  }

  .sp-btn--success.sp-btn--hover,
  .sp-btn--success:hover {
    background-color: var(--sp-component-button-success-bg-hover);
  }

  .sp-btn--success.sp-btn--active,
  .sp-btn--success:active {
    background-color: var(--sp-component-button-success-bg-active);
  }

  .sp-btn--success.sp-btn--disabled,
  .sp-btn--success:disabled {
    background-color: var(--sp-component-button-success-bg-disabled);
    color: var(--sp-component-button-success-text-disabled);
  }

  /* INPUTS --------------------------------------------------------------- */

  .sp-input-wrapper {
    display: grid;
    gap: var(--sp-space-3xs, 0.125rem);
    width: 100%;
  }

  .sp-label {
    color: var(--sp-component-input-text, var(--sp-text-on-surface-default, #0f172a));
    font-size: var(--sp-font-sm-size, 0.875rem);
    font-weight: var(--sp-font-sm-weight, 500);
    line-height: var(--sp-font-sm-line-height, 1.25rem);
  }

  .sp-helper-text {
    color: var(--sp-text-on-surface-muted);
    font-size: var(--sp-font-xs-size, 0.75rem);
    line-height: var(--sp-font-xs-line-height, 1rem);
  }

  .sp-error-message {
    color: var(--sp-color-error-600, #dc2626);
    font-size: var(--sp-font-xs-size, 0.75rem);
    line-height: var(--sp-font-xs-line-height, 1rem);
  }

  .sp-input {
    width: 100%;
    display: block;
    appearance: none;
    padding: var(--sp-space-2xs, 0.25rem) var(--sp-space-md, 1rem);
    border-radius: var(--sp-radius-md, 4px);
    border: 1px solid var(--sp-component-input-border, #cbd5f5);
    background-color: var(--sp-component-input-bg, var(--sp-surface-input, #ffffff));
    color: var(--sp-component-input-text, var(--sp-text-on-surface-default, #0f172a));
    font-family: var(--sp-font-family-sans, system-ui);
    font-size: var(--sp-font-md-size, 1rem);
    line-height: var(--sp-font-md-line-height, 1.5rem);
    transition:
      border-color var(--sp-duration-fast, 150ms) var(--sp-easing-out, ease),
      box-shadow var(--sp-duration-fast, 150ms) var(--sp-easing-out, ease),
      background-color var(--sp-duration-fast, 150ms) var(--sp-easing-out, ease);
  }

  .sp-input::placeholder {
    color: var(--sp-component-input-placeholder, var(--sp-text-on-surface-muted, #6b7280));
  }

  .sp-input--sm {
    padding: var(--sp-space-3xs, 0.125rem) var(--sp-space-sm, 0.75rem);
    font-size: var(--sp-font-sm-size, 0.875rem);
    line-height: var(--sp-font-sm-line-height, 1.25rem);
  }

  .sp-input--md {
    padding: var(--sp-space-2xs, 0.25rem) var(--sp-space-md, 1rem);
    font-size: var(--sp-font-md-size, 1rem);
    line-height: var(--sp-font-md-line-height, 1.5rem);
  }

  .sp-input--lg {
    padding: var(--sp-space-xs, 0.5rem) var(--sp-space-lg, 1.5rem);
    font-size: var(--sp-font-lg-size, 1.125rem);
    line-height: var(--sp-font-lg-line-height, 1.75rem);
  }

  .sp-input--full {
    width: 100%;
  }

  .sp-input:focus,
  .sp-input--focus {
    border-color: var(
      --sp-component-input-border-focus,
      var(--sp-component-input-border, #cbd5f5)
    );
    box-shadow: 0 0 0 var(--sp-focus-ring-width, 2px) var(
      --sp-component-input-ring,
      var(--sp-color-focus-primary, #8652ff)
    );
    outline: none;
  }

  .sp-input--error {
    border-color: var(--sp-component-input-border-invalid, #ef4444);
    background-color: var(--sp-component-input-bg-invalid, #fef2f2);
    color: var(--sp-component-input-text-invalid, #b91c1c);
  }

  .sp-input--success {
    border-color: var(--sp-component-input-border-valid, #22c55e);
    background-color: var(--sp-component-input-bg-valid, #f0fdf4);
    color: var(--sp-component-input-text-valid, #15803d);
  }

  .sp-input--disabled {
    background-color: var(--sp-component-input-bg-disabled, #f8fafc);
    color: var(--sp-component-input-text-disabled, #94a3b8);
    border-color: var(--sp-component-input-border-disabled, #e2e8f0);
    cursor: not-allowed;
  }

  .sp-input--disabled,
  .sp-input--disabled:focus {
    box-shadow: none;
  }

  /* CARDS ---------------------------------------------------------------- */

  .sp-card {
    background-color: var(--sp-component-card-bg);
    color: var(--sp-component-card-text);
    border-radius: var(--sp-radius-lg, 8px);
    padding: var(--sp-space-lg, 1.5rem);
    box-shadow: var(--sp-component-card-shadow, var(--sp-shadow-sm));
    border: 1px solid var(
      --sp-component-card-border-base,
      var(--sp-component-card-ghost-border, var(--sp-component-card-bg))
    );
  }

  .sp-card p,
  .sp-card span {
    color: var(--sp-component-card-text-muted);
  }

  .sp-card h3,
  .sp-card h4 {
    color: var(--sp-component-card-text);
  }

  .sp-card--elevated {
    box-shadow: var(--sp-component-card-shadow-elevated, var(--sp-shadow-lg));
  }

  .sp-card--flat {
    box-shadow: var(--sp-component-card-shadow-flat, var(--sp-shadow-none));
    border-color: var(--sp-component-card-border);
  }

  .sp-card--outline {
    background-color: var(--sp-component-card-outline-bg, var(--sp-component-card-bg));
    border-color: var(--sp-component-card-outline-border, var(--sp-component-card-border));
    box-shadow: var(--sp-component-card-shadow-outline, var(--sp-shadow-none));
  }

  .sp-card--ghost {
    background-color: var(--sp-component-card-ghost-bg);
    border-color: var(--sp-component-card-ghost-border);
    box-shadow: var(--sp-component-card-shadow-ghost, var(--sp-shadow-none));
  }

  .sp-card--padded {
    padding: var(--sp-space-xl, 2rem);
  }

  .sp-card--full {
    height: 100%;
  }

  .sp-card--interactive {
    cursor: pointer;
    transition:
      transform var(--sp-duration-fast, 150ms) var(--sp-easing-out, ease),
      box-shadow var(--sp-duration-fast, 150ms) var(--sp-easing-out, ease);
  }

  .sp-card--interactive:hover,
  .sp-card--interactive:focus-visible,
  .sp-card--interactive:focus-within {
    transform: translateY(-1px);
    box-shadow: var(--sp-component-card-shadow-elevated, var(--sp-shadow-lg));
  }
}
